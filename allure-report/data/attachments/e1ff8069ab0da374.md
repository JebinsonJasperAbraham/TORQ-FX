# Test info

- Name: Login TO TORQ >> TS_01_SMOKE_TC1
- Location: D:\PlaywrightAutomation\tests\TORQ\01_SmokeTest.spec.js:11:5

# Error details

```
Error: locator.click: Target page, context or browser has been closed
Call log:
  - waiting for locator('xpath=(//button[@aria-label="close"])[2]')
    - locator resolved to <button type="button" aria-label="close" class="Toastify__close-button Toastify__close-button--light">…</button>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is not stable
    - retrying click action
    - waiting 20ms
    2 × waiting for element to be visible, enabled and stable
      - element is not stable
    - retrying click action
      - waiting 100ms
    - waiting for element to be visible, enabled and stable
    - element is not stable
  - retrying click action
    - waiting 500ms
    - waiting for element to be visible, enabled and stable
  - element was detached from the DOM, retrying

    at JobPage.TORQJobListPage (D:\PlaywrightAutomation\pages\JobPage.js:22:43)
    at D:\PlaywrightAutomation\tests\TORQ\01_SmokeTest.spec.js:13:9
```

# Test source

```ts
   1 | import { expect } from "@playwright/test";
   2 | import { ToastMessages } from '../config/ValidationMessage.js';
   3 |
   4 | export class JobPage {
   5 |     constructor(page) {
   6 |         this.page = page;
   7 |
   8 |         this.SideMenuJob = page.locator('(//span[@class="sidebar-txt ms-3"])[2]');
   9 |         this.TORQSubMenu = page.locator('ul[class="sidebar-link-group "]');
  10 |         this.toastMessage = page.locator("//div[@role='alert']").nth(1);
  11 |         this.CloseX = page.locator('(//button[@aria-label="close"])[2]');
  12 |
  13 |     }
  14 |
  15 |     async TORQJobListPage() {
  16 |         await this.SideMenuJob.click();
  17 |         while (await this.toastMessage.isVisible()) {
  18 |             const text = await this.toastMessage.textContent();
  19 |             if (text.includes(ToastMessages.ERROR_POPUP_WHEN_LOGIN)) {
  20 |                 for (let i = 0; i < 5; i++) {
  21 |                     if (await this.CloseX.isVisible()) {
> 22 |                         await this.CloseX.click();
     |                                           ^ Error: locator.click: Target page, context or browser has been closed
  23 |                         await this.page.waitForTimeout(200);
  24 |                     } else {
  25 |                         break;
  26 |                     }
  27 |                 }
  28 |             } else {
  29 |                 break;
  30 |             }
  31 |             await this.SideMenuJob.click();
  32 |             await this.TORQSubMenu.click();
  33 |             await expect(this.TORQSubMenu).toBeEnabled();
  34 |         }
  35 |     }
  36 |
  37 |
  38 |     async expectToastToContain(expectedMessage) {
  39 |         await expect.soft(this.toastMessage).toContainText(expectedMessage);
  40 |     }
  41 | }
```